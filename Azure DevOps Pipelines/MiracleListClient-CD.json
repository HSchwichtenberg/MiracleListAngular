{"source":2,"revision":111,"description":null,"createdBy":{"displayName":"Neno Loje (TFS)","url":"https://spsprodcus1.vssps.visualstudio.com/A7fbad96a-dc90-4656-af24-f37c38c5694b/_apis/Identities/844900ae-9043-49c7-af9c-1d354b677d3e","_links":{"avatar":{"href":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk"}},"id":"844900ae-9043-49c7-af9c-1d354b677d3e","uniqueName":"nenoalm@outlook.com","imageUrl":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk","descriptor":"msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk"},"createdOn":"2018-02-17T11:51:09.617Z","modifiedBy":{"displayName":"Dr. Holger Schwichtenberg","url":"https://spsprodcus1.vssps.visualstudio.com/A7fbad96a-dc90-4656-af24-f37c38c5694b/_apis/Identities/0a31ed99-da1e-4412-913b-5da20050c88f","_links":{"avatar":{"href":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.N2NlNTFmMWYtODBhYy03MzVlLThmOWEtY2FhNzgyNjAzNGQz"}},"id":"0a31ed99-da1e-4412-913b-5da20050c88f","uniqueName":"hs@IT-Visions.de","imageUrl":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.N2NlNTFmMWYtODBhYy03MzVlLThmOWEtY2FhNzgyNjAzNGQz","descriptor":"msa.N2NlNTFmMWYtODBhYy03MzVlLThmOWEtY2FhNzgyNjAzNGQz"},"modifiedOn":"2019-12-02T18:50:44.623Z","isDeleted":false,"lastRelease":{"id":525,"name":"Release-104","artifacts":[],"_links":{},"description":"Triggered by MiracleListClientSeleniumTests-CI 20191128.3.","releaseDefinition":{"id":3,"projectReference":null,"_links":{}},"createdOn":"2019-11-28T16:41:18.667Z","createdBy":{"displayName":"Dr. Holger Schwichtenberg","url":"https://spsprodcus1.vssps.visualstudio.com/A7fbad96a-dc90-4656-af24-f37c38c5694b/_apis/Identities/0a31ed99-da1e-4412-913b-5da20050c88f","_links":{"avatar":{"href":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.N2NlNTFmMWYtODBhYy03MzVlLThmOWEtY2FhNzgyNjAzNGQz"}},"id":"0a31ed99-da1e-4412-913b-5da20050c88f","uniqueName":"hs@IT-Visions.de","imageUrl":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.N2NlNTFmMWYtODBhYy03MzVlLThmOWEtY2FhNzgyNjAzNGQz","descriptor":"msa.N2NlNTFmMWYtODBhYy03MzVlLThmOWEtY2FhNzgyNjAzNGQz"}},"variables":{"Browser":{"value":"Chrome,Firefox"},"ClientID":{"value":"11111111-1111-1111-1111-111111111111"},"TestVM.Name":{"value":"Test-Win10"},"TestVM.ResourceGroup":{"value":"Demo-MiracleList-Agents"}},"variableGroups":[1],"environments":[{"id":4,"name":"Staging","rank":1,"owner":{"displayName":"Neno Loje (TFS)","url":"https://spsprodcus1.vssps.visualstudio.com/A7fbad96a-dc90-4656-af24-f37c38c5694b/_apis/Identities/844900ae-9043-49c7-af9c-1d354b677d3e","_links":{"avatar":{"href":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk"}},"id":"844900ae-9043-49c7-af9c-1d354b677d3e","uniqueName":"nenoalm@outlook.com","imageUrl":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk","descriptor":"msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk"},"variables":{"API_BASE_URL":{"value":"https://web-mlbackend-staging.azurewebsites.net/"},"URL":{"value":"https://web-mlclient-staging.azurewebsites.net/"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":12}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":13},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":14}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_MiracleListClient-CI","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]},{"alias":"_MiracleListClientSeleniumTests-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]}]},"queueId":34,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job 1: Deploy","refName":null,"workflowTasks":[{"environment":{},"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"2.*","name":"Set $env:ReleaseDate to Current DateTime","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"targetType":"inline","filePath":"","arguments":"","script":"# Set variable \"AppInfo.ReleaseDate\" which will be used by the \"Azure App Service Deploy\" task to replace values in the appsettings.json file\n\nWrite-Host \"##vso[task.setvariable variable=ReleaseDate;]$(Get-Date -Format r)\"\n\nWrite-Host \"------------------  Variable Check\"\n\n$env:ReleaseDate\n$env:ClientID","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"2.*","name":"PowerShell Script: Check WebAPI available + Warm Up","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"targetType":"inline","filePath":"","arguments":"","script":"# Zugriff auf WebAPI-Server, damit der gleich beim UI-test schneller reagiert!\n\n$url = \"$env:API_BASE_URL/about\"\nWrite-host \"Checking $url ...\"\n$e = Invoke-WebRequest $url -UseBasicParsing\nif ($e.StatusCode -ne 200) { Write-Host \"##vso[task.logissue type=error;] WebAPI nicht verf√ºgbar!\" }\nwrite-host $e\n","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"taskId":"497d490f-eea7-4f2b-ab94-48d9c1acdcb1","version":"4.*","name":"Azure App Service Deploy: Web-MLClient-Staging","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectionType":"AzureRM","ConnectedServiceName":"e1b32c4f-5679-4a38-9b5b-a4579ff1f168","PublishProfilePath":"$(System.DefaultWorkingDirectory)/**/*.pubxml","PublishProfilePassword":"","WebAppKind":"webApp","WebAppName":"Web-MLClient-Staging","DeployToSlotOrASEFlag":"false","ResourceGroupName":"","SlotName":"production","DockerNamespace":"","DockerRepository":"","DockerImageTag":"","VirtualApplication":"","Package":"$(System.DefaultWorkingDirectory)/**/*.zip","RuntimeStack":"","RuntimeStackFunction":"","StartupCommand":"","ScriptType":"","InlineScript":":: You can provide your deployment commands here. One command per line.","ScriptPath":"","WebConfigParameters":"","AppSettings":"","ConfigurationSettings":"","UseWebDeploy":"false","DeploymentType":"webDeploy","TakeAppOfflineFlag":"false","SetParametersFile":"","RemoveAdditionalFilesFlag":"false","ExcludeFilesFromAppDataFlag":"false","AdditionalArguments":"","RenameFilesFlag":"false","XmlTransformation":"false","XmlVariableSubstitution":"false","JSONFiles":"assets/appsettings.json"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_MiracleListClient-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]},{"alias":"_MiracleListClientSeleniumTests-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]}]},"queueId":1,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":2,"phaseType":1,"name":"Agent job 2: Start Test VM","refName":null,"workflowTasks":[{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure: Start VM","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"39724e1b-cf36-4a52-b80b-06e74130ada5","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"az vm start --name %1 --resource-group %2","args":"$(TestVM.Name) $(TestVM.ResourceGroup)","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"","failOnStandardError":"false"}}]},{"deploymentInput":{"parallelExecution":{"multipliers":"Browser","maxNumberOfAgents":1,"continueOnError":false,"parallelExecutionType":1},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_MiracleListClient-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]},{"alias":"_MiracleListClientSeleniumTests-CI","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":34,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":3,"phaseType":1,"name":"Agent job 3: UI Test","refName":null,"workflowTasks":[{"environment":{},"taskId":"b0ce7256-7898-45d3-9cb5-176b752bfea6","version":"0.*","name":"Use .NET Core SDK 2.1.4","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"packageType":"sdk","version":"2.1.4"}},{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Disable WER UI","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"REG ADD \"HKCU\\Software\\Microsoft\\Windows\\Windows Error Reporting\" /v DontShowUI /t REG_DWORD /d 1 /f","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"taskId":"2c65196a-54fd-4a02-9be8-d9d1837b7111","version":"1.*","name":"Configure VSTest Platform","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"packageFeedSelector":"nugetOrg","versionSelector":"specificVersion","testPlatformVersion":"15.9.0","customFeed":"","username":"","password":"","netShare":""}},{"environment":{},"taskId":"ef087383-ee5e-42c7-9a53-ab56c98420f9","version":"2.*","name":"Run Selenium Tests in $(Browser)","refName":"","enabled":true,"alwaysRun":false,"continueOnError":true,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"testSelector":"testAssemblies","testAssemblyVer2":"_MiracleListClientSeleniumTests-CI/SystemTests/MiracleListClientSeleniumTestsCore.dll","testPlan":"","testSuite":"","testConfiguration":"","tcmTestRun":"$(test.RunId)","searchFolder":"$(System.DefaultWorkingDirectory)","testFiltercriteria":"","runOnlyImpactedTests":"False","runAllTestsAfterXBuilds":"50","uiTests":"true","vstestLocationMethod":"version","vsTestVersion":"toolsInstaller","vstestLocation":"","runSettingsFile":"$(System.DefaultWorkingDirectory)/_MiracleListClientSeleniumTests-CI/SystemTests/VideoRecording.runsettings","overrideTestrunParameters":"","pathtoCustomTestAdapters":"","runInParallel":"False","runTestsInIsolation":"False","codeCoverageEnabled":"False","otherConsoleOptions":"","distributionBatchType":"basedOnTestCases","batchingBasedOnAgentsOption":"autoBatchSize","customBatchSizeValue":"10","batchingBasedOnExecutionTimeOption":"autoBatchSize","customRunTimePerBatchValue":"60","dontDistribute":"False","testRunTitle":"Selenium Tests - $(Browser)","platform":"$(Browser)","configuration":"$(Release.EnvironmentName)","publishRunAttachments":"true","diagnosticsEnabled":"false","collectDumpOn":"onAbortOnly","rerunFailedTests":"False","rerunType":"basedOnTestFailurePercentage","rerunFailedThreshold":"30","rerunFailedTestCasesMaxLimit":"5","rerunMaxAttempts":"3"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_MiracleListClient-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]},{"alias":"_MiracleListClientSeleniumTests-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]}]},"queueId":1,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":4,"phaseType":1,"name":"Agent job 4: Shutdown Test VM","refName":null,"workflowTasks":[{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure: Deallocate VM","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"39724e1b-cf36-4a52-b80b-06e74130ada5","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"az vm deallocate --name %1 --resource-group %2","args":"$(TestVM.Name) $(TestVM.ResourceGroup)","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"","failOnStandardError":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":true,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":525,"url":"https://nlhsdemo.vsrm.visualstudio.com/71a63bec-1970-43b4-a4bc-ce6293a9997a/_apis/Release/releases/525","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://nlhsdemo.vsrm.visualstudio.com/_apis/public/Release/badge/71a63bec-1970-43b4-a4bc-ce6293a9997a/3/4"},{"id":10,"name":"Produktion","rank":2,"owner":{"displayName":"Neno Loje (TFS)","url":"https://spsprodcus1.vssps.visualstudio.com/A7fbad96a-dc90-4656-af24-f37c38c5694b/_apis/Identities/844900ae-9043-49c7-af9c-1d354b677d3e","_links":{"avatar":{"href":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk"}},"id":"844900ae-9043-49c7-af9c-1d354b677d3e","uniqueName":"nenoalm@outlook.com","imageUrl":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk","descriptor":"msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk"},"variables":{"API_BASE_URL":{"value":"https://web-mlbackend-production.azurewebsites.net/"},"URL":{"value":"https://web-mlclient-production.azurewebsites.net/"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":false,"isNotificationOn":false,"approver":{"displayName":"Dr. Holger Schwichtenberg","url":"https://spsprodcus1.vssps.visualstudio.com/A7fbad96a-dc90-4656-af24-f37c38c5694b/_apis/Identities/0a31ed99-da1e-4412-913b-5da20050c88f","_links":{"avatar":{"href":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.N2NlNTFmMWYtODBhYy03MzVlLThmOWEtY2FhNzgyNjAzNGQz"}},"id":"0a31ed99-da1e-4412-913b-5da20050c88f","uniqueName":"hs@IT-Visions.de","imageUrl":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.N2NlNTFmMWYtODBhYy03MzVlLThmOWEtY2FhNzgyNjAzNGQz","descriptor":"msa.N2NlNTFmMWYtODBhYy03MzVlLThmOWEtY2FhNzgyNjAzNGQz"},"id":39},{"rank":2,"isAutomated":false,"isNotificationOn":false,"approver":{"displayName":"Neno Loje (TFS)","url":"https://spsprodcus1.vssps.visualstudio.com/A7fbad96a-dc90-4656-af24-f37c38c5694b/_apis/Identities/844900ae-9043-49c7-af9c-1d354b677d3e","_links":{"avatar":{"href":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk"}},"id":"844900ae-9043-49c7-af9c-1d354b677d3e","uniqueName":"nenoalm@outlook.com","imageUrl":"https://nlhsdemo.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk","descriptor":"msa.NzA4ZDVlMTMtMmRhYi03OWUwLWI4ZmUtN2ZjNzY4ZTU0NGZk"},"id":40}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":true,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":37},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":38}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_MiracleListClient-CI","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]},{"alias":"_MiracleListClientSeleniumTests-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]}]},"queueId":1,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Setup","refName":null,"workflowTasks":[{"environment":{},"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"2.*","name":"Set Release Date in AppSettings","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"targetType":"inline","filePath":"","arguments":"","script":"# Set variable \"AppInfo.ReleaseDate\" which will be used by the \"Azure App Service Deploy\" task to replace valuesin the appsettings.json file\n\nWrite-Host \"##vso[task.setvariable variable=ReleaseDate;]$(Get-Date -Format r)\"\n\n$env:ReleaseDate","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"taskId":"497d490f-eea7-4f2b-ab94-48d9c1acdcb1","version":"4.*","name":"Azure App Service Deploy: Web-MLClient-Production","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectionType":"AzureRM","ConnectedServiceName":"e1b32c4f-5679-4a38-9b5b-a4579ff1f168","PublishProfilePath":"$(System.DefaultWorkingDirectory)/**/*.pubxml","PublishProfilePassword":"","WebAppKind":"webApp","WebAppName":"Web-MLClient-Production","DeployToSlotOrASEFlag":"true","ResourceGroupName":"RG-DEMO-MiracleList-DevOps","SlotName":"ProdStaging","DockerNamespace":"","DockerRepository":"","DockerImageTag":"","VirtualApplication":"","Package":"$(System.DefaultWorkingDirectory)/**/*.zip","RuntimeStack":"","RuntimeStackFunction":"","StartupCommand":"","ScriptType":"","InlineScript":":: You can provide your deployment commands here. One command per line.","ScriptPath":"","WebConfigParameters":"","AppSettings":"","ConfigurationSettings":"","UseWebDeploy":"false","DeploymentType":"webDeploy","TakeAppOfflineFlag":"false","SetParametersFile":"","RemoveAdditionalFilesFlag":"false","ExcludeFilesFromAppDataFlag":"false","AdditionalArguments":"","RenameFilesFlag":"false","XmlTransformation":"false","XmlVariableSubstitution":"false","JSONFiles":"assets/appsettings.json"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"39724e1b-cf36-4a52-b80b-06e74130ada5","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"az vm start --name %1 --resource-group %2","args":"$(TestVM.Name) $(TestVM.ResourceGroup)","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"","failOnStandardError":"false"}}]},{"deploymentInput":{"parallelExecution":{"multipliers":"Browser","maxNumberOfAgents":1,"continueOnError":true,"parallelExecutionType":1},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_MiracleListClient-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]},{"alias":"_MiracleListClientSeleniumTests-CI","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":6,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":2,"phaseType":1,"name":"Test","refName":null,"workflowTasks":[{"environment":{},"taskId":"b0ce7256-7898-45d3-9cb5-176b752bfea6","version":"0.*","name":"Use .NET Core SDK 2.1.4","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"packageType":"sdk","version":"2.1.4"}},{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Disable WER UI","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"REG ADD \"HKCU\\Software\\Microsoft\\Windows\\Windows Error Reporting\" /v DontShowUI /t REG_DWORD /d 1 /f","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"taskId":"2c65196a-54fd-4a02-9be8-d9d1837b7111","version":"1.*","name":"Configure VSTest Platform","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"packageFeedSelector":"nugetOrg","versionSelector":"specificVersion","testPlatformVersion":"15.9.0","customFeed":"","username":"","password":"","netShare":""}},{"environment":{},"taskId":"ef087383-ee5e-42c7-9a53-ab56c98420f9","version":"2.*","name":"Run Selenium Tests in $(Browser)","refName":"","enabled":true,"alwaysRun":false,"continueOnError":true,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"testSelector":"testAssemblies","testAssemblyVer2":"_MiracleListClientSeleniumTests-CI/SystemTests/MiracleListClientSeleniumTestsCore.dll","testPlan":"","testSuite":"","testConfiguration":"","tcmTestRun":"$(test.RunId)","searchFolder":"$(System.DefaultWorkingDirectory)","testFiltercriteria":"","runOnlyImpactedTests":"False","runAllTestsAfterXBuilds":"50","uiTests":"true","vstestLocationMethod":"version","vsTestVersion":"toolsInstaller","vstestLocation":"","runSettingsFile":"$(System.DefaultWorkingDirectory)/_MiracleListClientSeleniumTests-CI/SystemTests/VideoRecording.runsettings","overrideTestrunParameters":"","pathtoCustomTestAdapters":"","runInParallel":"False","runTestsInIsolation":"False","codeCoverageEnabled":"False","otherConsoleOptions":"","distributionBatchType":"basedOnTestCases","batchingBasedOnAgentsOption":"autoBatchSize","customBatchSizeValue":"10","batchingBasedOnExecutionTimeOption":"autoBatchSize","customRunTimePerBatchValue":"60","dontDistribute":"False","testRunTitle":"Selenium Tests - $(Browser)","platform":"$(Browser)","configuration":"","publishRunAttachments":"true","diagnosticsEnabled":"True","collectDumpOn":"onAbortOnly","rerunFailedTests":"False","rerunType":"basedOnTestFailurePercentage","rerunFailedThreshold":"30","rerunFailedTestCasesMaxLimit":"5","rerunMaxAttempts":"3"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"_MiracleListClient-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]},{"alias":"_MiracleListClientSeleniumTests-CI","artifactType":"Build","artifactDownloadMode":"Skip","artifactItems":[]}]},"queueId":1,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":3,"phaseType":1,"name":"Cleanup","refName":null,"workflowTasks":[{"environment":{},"taskId":"f045e430-8704-11e6-968f-e717e6411619","version":"0.*","name":"Swap Slots: Web-MLClient-Production","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"e1b32c4f-5679-4a38-9b5b-a4579ff1f168","Action":"Swap Slots","WebAppName":"Web-MLClient-Production","SpecifySlot":"false","ResourceGroupName":"RG-DEMO-MiracleList-DevOps","SourceSlot":"ProdStaging","SwapWithProduction":"true","TargetSlot":"","PreserveVnet":"false","Slot":"production","ExtensionsList":"","OutputVariable":"","AppInsightsResourceGroupName":"","ApplicationInsightsResourceName":"","ApplicationInsightsWebTestName":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure: Deallocate VM","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"39724e1b-cf36-4a52-b80b-06e74130ada5","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"az vm deallocate --name %1 --resource-group %2","args":"$(TestVM.Name) $(TestVM.ResourceGroup)","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"","failOnStandardError":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":true,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"Staging","conditionType":2,"value":"4"}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":502,"url":"https://nlhsdemo.vsrm.visualstudio.com/71a63bec-1970-43b4-a4bc-ce6293a9997a/_apis/Release/releases/502","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://nlhsdemo.vsrm.visualstudio.com/_apis/public/Release/badge/71a63bec-1970-43b4-a4bc-ce6293a9997a/3/10"}],"artifacts":[{"sourceId":"71a63bec-1970-43b4-a4bc-ce6293a9997a:4","type":"Build","alias":"_MiracleListClient-CI","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://nlhsdemo.visualstudio.com/_permalink/_build/index?collectionId=2071e555-3459-498c-9e6f-c526fd72ab61&projectId=71a63bec-1970-43b4-a4bc-ce6293a9997a&definitionId=4","name":""},"defaultVersionBranch":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionTags":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"4","name":"MiracleListClient-CI"},"project":{"id":"71a63bec-1970-43b4-a4bc-ce6293a9997a","name":"MiracleList"}},"isRetained":false},{"sourceId":"71a63bec-1970-43b4-a4bc-ce6293a9997a:5","type":"Build","alias":"_MiracleListClientSeleniumTests-CI","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://nlhsdemo.visualstudio.com/_permalink/_build/index?collectionId=2071e555-3459-498c-9e6f-c526fd72ab61&projectId=71a63bec-1970-43b4-a4bc-ce6293a9997a&definitionId=5","name":""},"defaultVersionBranch":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionTags":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"5","name":"MiracleListClientSeleniumTests-CI"},"project":{"id":"71a63bec-1970-43b4-a4bc-ce6293a9997a","name":"MiracleList"}},"isPrimary":true,"isRetained":false}],"triggers":[],"releaseNameFormat":"Release-$(rev:r)","tags":[],"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"ReleaseNew"},"IntegrateJiraWorkItems":{"$type":"System.String","$value":"false"},"IntegrateBoardsWorkItems":{"$type":"System.String","$value":"False"}},"id":3,"name":"MiracleListClient-CD","path":"\\","projectReference":null,"url":"https://nlhsdemo.vsrm.visualstudio.com/71a63bec-1970-43b4-a4bc-ce6293a9997a/_apis/Release/definitions/3","_links":{"self":{"href":"https://nlhsdemo.vsrm.visualstudio.com/71a63bec-1970-43b4-a4bc-ce6293a9997a/_apis/Release/definitions/3"},"web":{"href":"https://nlhsdemo.visualstudio.com/71a63bec-1970-43b4-a4bc-ce6293a9997a/_release?definitionId=3"}}}